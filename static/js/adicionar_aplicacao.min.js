var observe; function init() { var e = document.getElementById("texto"); function o() { e.style.height = "auto", e.style.height = e.scrollHeight + "px" } function t() { window.setTimeout(o, 0) } observe(e, "change", o), observe(e, "cut", t), observe(e, "paste", t), observe(e, "drop", t), observe(e, "keydown", t), e.focus(), e.select(), o() } function adicionar() { var e = new XMLHttpRequest, o = document.getElementById("titulo").value, t = document.getElementById("texto").value, n = document.getElementById("imagem").value; if (console.log(n), "" != o && "" != t && "" != n) { var a = '{"titulo":"' + o + '", "texto":"' + t + '", "imagem":"' + n + '"}'; console.log(a), e.open("POST", "/produtos", !0), e.send(a), document.location.href = "produtos.html", window.alert("Produto adicionado com sucesso!") } else window.alert("Preencha todos os campos para adicionar o produto") } observe = window.attachEvent ? function (e, o, t) { e.attachEvent("on" + o, t) } : function (e, o, t) { e.addEventListener(o, t, !1) };